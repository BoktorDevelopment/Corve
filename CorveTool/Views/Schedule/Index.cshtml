@using CorveTool.DAL.Context;
@using CorveTool.DAL.Models;
@using CorveTool.DAL.Repositories;
@{

    ViewData["Title"] = "Index";

    List<ScheduleTaskViewModel> info = (List<ScheduleTaskViewModel>)ViewData["info"];
}

<h2>Schedule</h2>
<a href="schedule/add" class="add-icon page-href"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
<table class="table table-hover">
    <tr>
        <th>WeekNumber:</th>
        <th>Name:</th>
        <th>Actions:</th>
    </tr>
    @for (int i = 1; i < int.Parse(ViewData["weeknumbers"].ToString()) + 1; i++)
    {
        <tr>
            <td>WeekNumber @i.ToString(): </td>
            <td>
                @foreach (var item in info)
                {
                    @if (item.Week == i)
                    {
                        @item.User.ToString();   
                    }
                }
            </td>    
            <td>@Html.ActionLink("Update", "Update", new { Week = i }, new { @class = "page-href" })</td>
        </tr>
    }
</table>
